<head>
	<title>ZenLeaderBoard</title>
</head>

<body>
	
	<h1>ZenBanx Transactions</h1>
	<a href = "http://www.zenbanx.com"><img src = "https://pbs.twimg.com/profile_images/598226607082352640/pJ2A1tF9.jpg"></a>           
	



	{{> sortBoard}}

</body>
<template name = "sortBoard">
	
	<script>
	function populate()
	{
		//alert("hello");
		var dateTime = moment(new Date()).format() + "";
		var date = dateTime.substring(0, dateTime.indexOf("T"));
		var time = dateTime.substring(dateTime.indexOf("T")+1, dateTime.indexOf("T") + 6); 
		alert("Using the current date and time: " + dateTime);
		document.getElementById('myDate').value = date;
		document.getElementById('myTime').value = time;	
	}
	</script>
	
	<div>
		<p>Insert New Transaction:</p>
		<form name= "transaction" class= "new-transaction">
			<input type= "text" name= "Account ID" placeholder="Account ID"/>
			<input type= "text" name= "Transaction Code" placeholder="Transaction Code" required/>
			<input type= "text" name= "Base Currency" placeholder="Base Currency" required/>
			<input type= "text" name= "Currency" placeholder="Currency"/>
			<input type= "text" name= "Amount" placeholder="Amount"/>
			<input type= "date" id="myDate" name= "Date" placeholder="Date" required/>
			<input type= "time" id="myTime" name= "Time" placeholder="Time" required/>
			<input type= "button" onclick="populate()" name="Current Date and Time" value="Use Current Date and Time"/>
			<input type="submit" class= "hit" value= "Add Transaction"/>
		</form>
	</div>

	<div>
	<input type="submit" value= "Sort"/>

	<select id="criteria">
		<option value="Account ID">Account ID</option>
		<option value="Base Currency">Base Currency</option>
		<option value="Currency">Currency</option>
		<option value="Amount">Amount</option>
		<option value="Time Stamp">Time Stamp</option>
	</select>

	</div>

	<div>
		<h3>Vital Statistics</h3>
		<p>Number of Transactions: <b>{{counter}}</b></p>
		<table align = "center" style="width:50%">
			<tr>
				<th>Currency</th>
				<th>Percentage Used</th>
			</tr>

			{{#each distribution}}
			<tr>
				<td>{{currency}}</td>
				<td>{{percentage}}</td>
			</tr>
			{{/each}}
		</table>

	</div>	

	<p> Sort Criteria: {{criteria}} </p>
	<p>Live Transactions</p>

	<div>

	<table align="center" id="Sorted Table" style="width:95%">

		<tr>
			<th></th>
			<th>Account ID</th> 
			<th>Transaction Code</th>
			<th>Base Currency</th> 
			<th>Currency</th> 
			<th>Amount</th> 
			<th>Time Stamp</th>
		</tr>

		{{#each sortedTable}}
		<tr >
			<button class="delete">&times;</button>
			<td>{{#each items}}{{acctId}}{{else}}Unknown{{/each}}</td> 
			<td>{{#each items}}{{tranCode}}{{else}}Unknown{{/each}}</td> 
			<td>{{baseCurrency}}</td>
			<td>{{#each items}}{{currency}}{{else}}Unknown{{/each}}</td>
			<td>{{#each items}}{{fixAmount amount}}{{else}}Unknown{{/each}}</td>  
			<td>{{formatDate timeStamp}}</td> 
		</tr>
		{{/each}}

	</table>
</div>
</template> 